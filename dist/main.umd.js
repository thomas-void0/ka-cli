#!/usr/bin/env node
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(require("ora")):"function"==typeof define&&define.amd?define(["ora"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).ora)}(this,(function(e){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n=require("download-git-repo"),o=require("fs"),t=require("path"),i=require("commander"),c=require("path"),a=require("fs"),s=require("glob"),u=require("inquirer");function f(e){var o;"."!==e&&a.mkdirSync(e),o=e,new Promise((function(e,t){var i="thomas-void0/react-mobile-template#master",c=r.default("正在下载项目模板，源地址".concat(i));c.start(),n(i,o,{clone:!1},(function(r){r?(c.fail("模板下载失败"),t(r)):(c.succeed("模板下载成功"),e(o))}))}))}!function(){i.usage("<project-name>").parse(process.argv);var e,r,n,l,d=i.rawArgs[2];d?(e=s.sync("*"),r=c.basename(process.cwd()),e.length?(l=d,e.some((function(e){var r=c.resolve(process.cwd(),e);r=a.statSync(r).isDirectory();return l===e&&r}))?function(e){u.prompt([{name:"isRemovePro",message:"项目".concat(e,"已经存在，是否覆盖文件"),type:"confirm",default:!0}]).then((function(r){r.isRemovePro?(function e(r){for(var n=o.readdirSync(r),i=0;i<n.length;i++){var c=t.join(r,n[i]);o.statSync(c).isDirectory()?e(c):o.unlinkSync(c)}o.rmdirSync(r)}(c.resolve(process.cwd(),e)),f(e)):console.log("停止创建")}))}(d):console.log("请选择一个空文件夹进行创建")):r===d?(n=d,u.prompt([{name:"buildInCurrent",message:"当前目录为空，且目录名称和项目名称相同，是否直接在当前目录下创建新项目？",type:"confirm",default:!0}]).then((function(e){e.buildInCurrent&&f(n)}))):f(d)):i.help()}()}));
